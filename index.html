
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fixed Claim Form Submission</title>
</head>
<body>
    <form name="claim_form" method="POST" data-netlify="true" id="mainClaimForm" data-netlify-honeypot="bot-field" enctype="multipart/form-data">
        <input type="hidden" name="form-name" value="claim_form" />
        <input type="hidden" name="bot-field" />
        <input type="hidden" name="Claim Code" id="hiddenClaimCode" value="" />
        <input type="hidden" name="_subject" id="netlifySubject" value="" />

        <!-- Hidden submit button to ensure real submission -->
        <button type="submit" id="realSubmitButton" style="display:none;"></button>

        <!-- Example of final step -->
        <section id="disclaimerSection" class="form-section">
            <h2>Disclaimer</h2>
            <p>Please ensure all information is accurate before submitting.</p>
            <div class="button-group">
                <button type="button" class="back-button" id="backButtonDisclaimer">Back</button>
                <button type="submit" class="submit-button" id="submitButtonDisclaimer">Submit</button> 
            </div>
        </section>
    </form>

    <!-- Review Modal -->
    <div id="reviewModal" class="modal">
        <div class="modal-content">
            <h2>Review Your Claim</h2>
            <div id="reviewSummaryContent"></div>
            <div class="review-button-group">
                <button type="button" class="back-button" id="reviewModalBack">Back to edit</button>
                <button type="button" class="next-button" id="reviewModalSubmit">OK to finish/process</button>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const reviewModalSubmit = document.getElementById('reviewModalSubmit');
        const realSubmitButton = document.getElementById('realSubmitButton');

        if (reviewModalSubmit && realSubmitButton) {
            reviewModalSubmit.addEventListener('click', () => {
                console.log('Confirmed review. Triggering real form submission.');
                realSubmitButton.click();
            });
        }
    });
    </script>
</body>
</html>
